\begin{figure}[H]%
\centering
\subcaptionbox{Before switching.}{\fbox{\includegraphics[keepaspectratio,width=0.45\textwidth]{./images/transformational_semantics_of_oz/all_switch_before.png}}}%
\hspace{1em}%
\subcaptionbox{After switching.}{\fbox{\includegraphics[keepaspectratio,width=0.45\textwidth]{./images/transformational_semantics_of_oz/all_after_switch.png}}}%
\caption{comparation as a process}
\label{tra_system}%
\end{figure}

\lstinputlisting[backgroundcolor=\color{white},caption={ system consisting of: two shops, vending machine and a customer.},captionpos=b, label={tra_system_lis}]{listings/system.abc}